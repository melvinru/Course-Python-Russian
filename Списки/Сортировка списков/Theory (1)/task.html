<h2 style="text-align: center;">Сортировка пузырьком</h2>

<p>Алгоритм сортировки пузырьком состоит из повторяющихся проходов по сортируемому списку. За каждый проход элементы последовательно сравниваются попарно и, если порядок в паре неверный, выполняется обмен элементов. Проходы по списку повторяются $n-1$ раз, где $n$ – длина списка. При каждом проходе алгоритма по внутреннему циклу, очередной наибольший элемент списка ставится на свое место в конце списка рядом с предыдущим «наибольшим элементом».</p>

<p>Наибольший элемент каждый раз «всплывает» до нужной позиции, как пузырёк в воде — отсюда и название алгоритма.</p>

<p><img alt="" height="48" src="https://ucarecdn.com/0594c179-bdde-456b-878b-a455d590d352/" style="float: left;" width="43">Алгоритм пузырьковой сортировки считается учебным и практически не применяется вне учебной литературы, а на практике применяются более эффективные.</p>

<p>Рассмотрим работу алгоритма на примере сортировки списка <code>a = [5, 1, 4, 2, 8]</code> по возрастанию.</p>

<p><strong>Первый проход:</strong></p>

<ol>
	<li><code>[<strong>5, 1</strong>, 4, 2, 8]</code> → <code>[<strong>1, 5</strong>, 4, 2, 8]</code>: меняем местами первый и второй элементы, так как $5 &gt; 1$;</li>
	<li><code>[1,<strong> 5, 4</strong>, 2, 8]</code> → <code>[1, <strong>4, 5</strong>, 2, 8]</code>: меняем местами второй и третий элементы, так как $5 &gt; 4$;</li>
	<li><code>[1, 4, <strong>5, 2</strong>, 8]</code> → <code>[1, 4, <strong>2, 5</strong>, 8]</code>: меняем местами третий и четвертый элементы, так как $5 &gt; 2$;</li>
	<li><code>[1, 4, 2, <strong>5, 8</strong>]</code> → <code>[1, 4, 2, <strong>5, 8</strong>]</code>: не меняем четвертый и пятый элементы местами, так как $5 &lt; 8$;</li>
	<li>Самый большой элемент встал («всплыл») на свое место.</li>
</ol>

<p><strong>Второй проход:</strong></p>

<ol>
	<li><code>[<strong>1, 4</strong>, 2, 5, <strong><span style="color: #a03881;">8</span></strong>]</code> → <code>[<strong>1, 4</strong>, 2, 5, <span style="color: #a03881;"><strong>8</strong></span>]</code>: не меняем первый и второй элементы местами, так как $1 &lt; 4$;</li>
	<li><code>[1, <strong>4, 2</strong>, 5, <span style="color: #a03881;"><strong>8</strong></span>]</code> → <code>[1, <strong>2, 4</strong>, 5, <span style="color: #a03881;"><strong>8</strong></span>]</code>: меняем местами второй и третий элементы, так как $4 &gt; 2$;</li>
	<li><code>[1, 2, <strong>4, 5</strong>, <span style="color: #a03881;"><strong>8</strong></span>]</code> → <code>[1, 2, <strong>4, 5,<span style="color: #a03881;"> 8</span></strong>]</code>: не меняем местами третий и четвертый элементы, так как $4 &lt; 5$;</li>
	<li>Второй по величине элемент встал («всплыл») на свое место.</li>
</ol>

<p>Теперь список полностью отсортирован, но алгоритму это неизвестно и он работает дальше.</p>

<p><strong>Третий проход:</strong></p>

<ol>
	<li><code>[<strong>1, 2</strong>, 4,<strong> <span style="color: #a03881;">5, 8</span></strong>]</code> → <code>[<strong>1, 2</strong>, 4,<strong> <span style="color: #a03881;">5, 8</span></strong>]</code>: не меняем первый и второй элементы местами, так как $1 &lt; 2$;</li>
	<li><code>[1, <strong>2, 4</strong>,<strong> <span style="color: #a03881;">5, 8</span></strong>]</code> → <code>[1, <strong>2, 4</strong>,<strong> <span style="color: #a03881;">5, 8</span></strong>]</code>: не меняем второй и третий элементы местами, так как $2 &lt; 4$;</li>
	<li>Третий по величине элемент встал («всплыл») на свое место. (на котором и был)</li>
</ol>

<p><strong>Четвертый проход:</strong></p>

<ol>
	<li><code>[<strong>1, 2</strong>,<strong> <span style="color: #a03881;">4</span></strong><span style="color: #a03881;">,</span><strong> <span style="color: #a03881;">5, 8</span></strong>]</code> → <code>[<strong>1, 2</strong>,<strong> <span style="color: #a03881;">4</span></strong><span style="color: #a03881;">,</span><strong> <span style="color: #a03881;">5, 8</span></strong>]</code>:</li>
	<li>Четвертый по величине элемент встал («всплыл») на свое место.</li>
</ol>

<p>Теперь список отсортирован и алгоритм может быть завершен.</p>

<h2 style="text-align: center;">Визуализация алгоритма</h2>

<p style="text-align: center;"><iframe height="500px" src="https://airtucha.github.io/SortVis/" width="700px"></iframe></p>

<h3 style="text-align: center;">Реализация алгоритма</h3>

<p>Пусть требуется отсортировать по возрастанию список чисел: <code>a = [1, 7, -3, 9, 0, -67, 34, 12, 45, 1000, 6,  8, -2, 99]</code>.</p>

<p>Следующий программный код реализует алгоритм пузырьковой сортировки:</p>

<pre><code class="language-python">a = [1, 7, -3, 9, 0, -67, 34, 12, 45, 1000, 6,  8, -2, 99]
n = len(a)

for i in range(n - 1):
    for j in range(n - i - 1):
        if a[j] &gt; a[j + 1]:                  # если порядок элементов пары неправильный
            a[j], a[j + 1] = a[j + 1], a[j]  # меняем элементы пары местами 

print('Отсортированный список:', a)</code></pre>

<p>Результатом выполнения такого кода будет:</p>

<pre><code class="language-no-highlight">Отсортированный список: [-67, -3, -2, 0, 1, 6, 7, 8, 9, 12, 34, 45, 99, 1000]</code></pre>

<h2 style="text-align: center;">Оптимизация алгоритма</h2>

<p>Алгоритм пузырьковой сортировки можно немного ускорить. Если на одном из очередных проходов окажется, что обмены больше не нужны, то это означает, что все элементы списка находятся на своих местах, то есть список отсортирован. Для реализации такого ускорения нужно воспользоваться сигнальной меткой, то есть флажком и оператором прерывания <code>break</code>.</p>